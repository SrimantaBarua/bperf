/**
 * @file    events.c
 * @author  Srimanta Barua <srimanta.barua1@gmail.com>
 * @date    18 November 2020
 * @version 0.1
 * @brief   Dumping all the arch-specific event definitions
 */

/* Event definitions for 06_3f */
static struct bperf_event_tuple EVENTS_XEON_E5_V3[] = {
    PMC(           LD_BLOCKS, STORE_FORWARD,                                         0x03, 0x02),
    PMC(           LD_BLOCKS, NO_SR,                                                 0x03, 0x08),
    PMC(           MISALIGN_MEM_REF, LOADS,                                          0x05, 0x01),
    PMC(           MISALIGN_MEM_REF, STORES,                                         0x05, 0x02),
    PMC(           LD_BLOCKS_PARTIAL, ADDRESS_ALIAS,                                 0x07, 0x01),
    PMC(           DTLB_LOAD_MISSES, MISS_CAUSES_A_WALK,                             0x08, 0x01),
    PMC(           DTLB_LOAD_MISSES, WALK_COMPLETED_4K,                              0x08, 0x02),
    PMC(           DTLB_LOAD_MISSES, WALK_COMPLETED_2M_4M,                           0x08, 0x04),
    PMC(           DTLB_LOAD_MISSES, WALK_COMPLETED,                                 0x08, 0x0e),
    PMC(           DTLB_LOAD_MISSES, WALK_PENDING,                                   0x08, 0x10),
    PMC(           DTLB_LOAD_MISSES, STLB_HIT_4K,                                    0x08, 0x20),
    PMC(           DTLB_LOAD_MISSES, STLB_HIT_2M,                                    0x08, 0x40),
    PMC(           DTLB_LOAD_MISSES, STLB_HIT,                                       0x08, 0x60),
    PMC(           DTLB_LOAD_MISSES, PDE_CACHE_MISS,                                 0x08, 0x80),
    PMC(           INT_MISC, RECOVERY_CYCLES,                                        0x0d, 0x03),
    PMC(           UOPS_ISSUED, ANY,                                                 0x0e, 0x01),
    PMC_CMASK_INV( UOPS_ISSUED, STALL_CYCLES,                                        0x0e, 0x01, 1),
    PMC(           UOPS_ISSUED, FLAGS_MERGE,                                         0x0e, 0x10),
    PMC(           UOPS_ISSUED, SLOW_LEA,                                            0x0e, 0x20),
    PMC(           UOPS_ISSUED, SINGLE_MUL,                                          0x0e, 0x40),
    PMC(           L2_RQSTS, DEMAND_DATA_RD_MISS,                                    0x24, 0x21),
    PMC(           L2_RQSTS, RFO_MISS,                                               0x24, 0x22),
    PMC(           L2_RQSTS, CODE_RD_MISS,                                           0x24, 0x24),
    PMC(           L2_RQSTS, ALL_DEMAND_MISS,                                        0x24, 0x27),
    PMC(           L2_RQSTS, PF_MISS,                                                0x24, 0x30),
    PMC(           L2_RQSTS, MISS,                                                   0x24, 0x3f),
    PMC(           L2_RQSTS, DEMAND_DATA_RD_HIT,                                     0x24, 0x41),
    PMC(           L2_RQSTS, RFO_HIT,                                                0x24, 0x42),
    PMC(           L2_RQSTS, CODE_RD_HIT,                                            0x24, 0x44),
    PMC(           L2_RQSTS, PF_HIT,                                                 0x24, 0x50),
    PMC(           L2_RQSTS, ALL_DEMAND_DATA_RD,                                     0x24, 0xe1),
    PMC(           L2_RQSTS, ALL_RFO,                                                0x24, 0xe2),
    PMC(           L2_RQSTS, ALL_CODE_RD,                                            0x24, 0xe4),
    PMC(           L2_RQSTS, ALL_DEMAND_REFERENCES,                                  0x24, 0xe7),
    PMC(           L2_RQSTS, ALL_PF,                                                 0x24, 0xf8),
    PMC(           L2_RQSTS, REFERENCES,                                             0x24, 0xff),
    PMC(           L2_DEMAND, RQSTS_WB_HIT,                                          0x27, 0x50),
    PMC(           LONGEST_LAT_CACHE, MISS,                                          0x2e, 0x41),
    PMC(           LONGEST_LAT_CACHE, REFERENCE,                                     0x2e, 0x4f),
    PMC(           CPU_CLK_UNHALTED, THREAD,                                         0x3c, 0x00),
    PMC(           CPU_CLK_UNHALTED, REF_TSC,                                        0x3c, 0x01),
    PMC(           L1D_PEND_MISS, PENDING,                                           0x48, 0x01),
    PMC_CMASK(     L1D_PEND_MISS, PENDING_CYCLES,                                    0x48, 0x01, 1),
    PMC(           DTLB_STORE_MISSES, MISS_CAUSES_A_WALK,                            0x49, 0x01),
    PMC(           DTLB_STORE_MISSES, WALK_COMPLETED_4K,                             0x49, 0x02),
    PMC(           DTLB_STORE_MISSES, WALK_COMPLETED_2M_4M,                          0x49, 0x04),
    PMC(           DTLB_STORE_MISSES, WALK_COMPLETED,                                0x49, 0x0e),
    PMC(           DTLB_STORE_MISSES, WALK_PENDING,                                  0x49, 0x10),
    PMC(           DTLB_STORE_MISSES, STLB_HIT_4K,                                   0x49, 0x20),
    PMC(           DTLB_STORE_MISSES, STLB_HIT_2M,                                   0x49, 0x40),
    PMC(           DTLB_STORE_MISSES, STLB_HIT,                                      0x49, 0x60),
    PMC(           DTLB_STORE_MISSES, PDE_CACHE_MISS,                                0x49, 0x80),
    PMC(           LOAD_HIT_PRE, SW_PF,                                              0x4c, 0x01),
    PMC(           LOAD_HIT_PRE, HW_PF,                                              0x4c, 0x02),
    PMC(           L1D, REPLACEMENT,                                                 0x51, 0x01),
    PMC(           TX_MEM, ABORT_CONFLICT,                                           0x54, 0x01),
    PMC(           TX_MEM, ABORT_CAPACITY,                                           0x54, 0x02),
    PMC(           TX_MEM, ABORT_HLE_STORE_TO_ELIDED_LOCK,                           0x54, 0x04),
    PMC(           TX_MEM, ABORT_HLE_ELISION_BUFFER_NOT_EMPTY,                       0x54, 0x08),
    PMC(           TX_MEM, ABORT_HLE_ELISION_BUFFER_MISMATCH,                        0x54, 0x10),
    PMC(           TX_MEM, ABORT_HLE_ELISION_BUFFER_UNSUPPORTED_ALIGNMENT,           0x54, 0x20),
    PMC(           TX_MEM, ABORT_HLE_ELISION_BUFFER_FULL,                            0x54, 0x40),
    PMC(           MOVE_ELIMINATION, INT_ELIMINATED,                                 0x58, 0x01),
    PMC(           MOVE_ELIMINATION, SIMD_ELIMINATED,                                0x58, 0x02),
    PMC(           MOVE_ELIMINATION, INT_NOT_ELIMINATED,                             0x58, 0x04),
    PMC(           MOVE_ELIMINATION, SIMD_NOT_ELIMINATED,                            0x58, 0x08),
    PMC(           CPL_CYCLES, RING0,                                                0x5c, 0x01),
    PMC(           CPL_CYCLES, RING123,                                              0x5c, 0x02),
    PMC(           TX_EXEC, MISC1,                                                   0x5d, 0x01),
    PMC(           TX_EXEC, MISC2,                                                   0x5d, 0x02),
    PMC(           TX_EXEC, MISC3,                                                   0x5d, 0x04),
    PMC(           TX_EXEC, MISC4,                                                   0x5d, 0x08),
    PMC(           TX_EXEC, MISC5,                                                   0x5d, 0x10),
    PMC(           RS_EVENTS, EMPTY_CYCLES,                                          0x5e, 0x01),
    PMC(           OFFCORE_REQUESTS_OUTSTANDING, DEMAND_DATA_RD,                     0x60, 0x01),
    PMC_CMASK(     OFFCORE_REQUESTS_OUTSTANDING, CYCLES_WITH_DEMAND_DATA_RD,         0x60, 0x01, 1),
    PMC(           OFFCORE_REQUESTS_OUTSTANDING, DEMAND_CODE_RD,                     0x60, 0x02),
    PMC_CMASK(     OFFCORE_REQUESTS_OUTSTANDING, CYCLES_WITH_DEMAND_CODE_RD,         0x60, 0x02, 1),
    PMC(           OFFCORE_REQUESTS_OUTSTANDING, DEMAND_RFO,                         0x60, 0x04),
    PMC_CMASK(     OFFCORE_REQUESTS_OUTSTANDING, CYCLES_WITH_DEMAND_RFO,             0x60, 0x04, 1),
    PMC(           OFFCORE_REQUESTS_OUTSTANDING, ALL_DATA_RD,                        0x60, 0x08),
    PMC_CMASK(     OFFCORE_REQUESTS_OUTSTANDING, CYCLES_WITH_DATA_RD,                0x60, 0x08, 1),
    PMC(           LOCK_CYCLES, SPLIT_LOCK_UC_LOCK_DURATION,                         0x63, 0x01),
    PMC(           LOCK_CYCLES, CACHE_LOCK_DURATION,                                 0x63, 0x02),
    PMC(           IDQ, EMPTY,                                                       0x79, 0x02),
    PMC(           IDQ, MITE_UOPS,                                                   0x79, 0x04),
    PMC(           IDQ, DSB_UOPS,                                                    0x79, 0x08),
    PMC(           IDQ, MS_DSB_UOPS,                                                 0x79, 0x10),
    PMC_CMASK(     IDQ, ALL_DSB_CYCLES_ANY_UOPS,                                     0x79, 0x18, 1),
    PMC_CMASK(     IDQ, ALL_DSB_CYCLES_4_UOPS,                                       0x79, 0x18, 4),
    PMC(           IDQ, MS_MITE_UOPS,                                                0x79, 0x20),
    PMC_CMASK(     IDQ, ALL_MITE_CYCLES_ANY_UOPS,                                    0x79, 0x24, 1),
    PMC_CMASK(     IDQ, ALL_MITE_CYCLES_4_UOPS,                                      0x79, 0x24, 4),
    PMC(           IDQ, MS_UOPS,                                                     0x79, 0x30),
    PMC(           IDQ, MITE_ALL_UOPS,                                               0x79, 0x34),
    PMC(           ICACHE, MISSES,                                                   0x80, 0x02),
    PMC(           ITLB_MISSES, MISS_CAUSES_A_WALK,                                  0x85, 0x01),
    PMC(           ITLB_MISSES, WALK_COMPLETED_4K,                                   0x85, 0x02),
    PMC(           ITLB_MISSES, WALK_COMPLETED_2M_4M,                                0x85, 0x04),
    PMC(           ITLB_MISSES, WALK_COMPLETED,                                      0x85, 0x0e),
    PMC(           ITLB_MISSES, WALK_PENDING,                                        0x85, 0x10),
    PMC(           ITLB_MISSES, STLB_HIT_4K,                                         0x85, 0x20),
    PMC(           ITLB_MISSES, STLB_HIT_2M,                                         0x85, 0x40),
    PMC(           ITLB_MISSES, STLB_HIT,                                            0x85, 0x60),
    PMC(           ILD, STALL_LCP,                                                   0x87, 0x01),
    PMC(           ILD, STALL_IQ_FULL,                                               0x87, 0x04),
    PMC(           IDQ_UOPS_NOT_DELIVERED, CORE,                                     0x9c, 0x01),
    PMC(           UOPS_DISPATCHED_PORT, PORT_0,                                     0xa1, 0x01),
    PMC(           UOPS_DISPATCHED_PORT, PORT_1,                                     0xa1, 0x02),
    PMC(           UOPS_DISPATCHED_PORT, PORT_2,                                     0xa1, 0x04),
    PMC(           UOPS_DISPATCHED_PORT, PORT_3,                                     0xa1, 0x08),
    PMC(           UOPS_DISPATCHED_PORT, PORT_4,                                     0xa1, 0x10),
    PMC(           UOPS_DISPATCHED_PORT, PORT_5,                                     0xa1, 0x20),
    PMC(           UOPS_DISPATCHED_PORT, PORT_6,                                     0xa1, 0x40),
    PMC(           UOPS_DISPATCHED_PORT, PORT_7,                                     0xa1, 0x80),
    PMC(           RESOURCE_STALLS, ANY,                                             0xa2, 0x01),
    PMC(           RESOURCE_STALLS, RS,                                              0xa2, 0x04),
    PMC(           RESOURCE_STALLS, SB,                                              0xa2, 0x08),
    PMC(           RESOURCE_STALLS, ROB,                                             0xa2, 0x10),
    PMC(           CYCLE_ACTIVITY, CYCLES_L2_MISS,                                   0xa3, 0x01),
    PMC(           CYCLE_ACTIVITY, CYCLES_L3_MISS,                                   0xa3, 0x02),
    PMC(           CYCLE_ACTIVITY, STALLS_L2_MISS,                                   0xa3, 0x05),
    PMC(           CYCLE_ACTIVITY, STALLS_L3_MISS,                                   0xa3, 0x06),
    PMC(           CYCLE_ACTIVITY, CYCLES_L1D_MISS,                                  0xa3, 0x08),
    PMC(           CYCLE_ACTIVITY, STALLS_L1D_MISS,                                  0xa3, 0x0c),
    PMC(           LSD, UOPS,                                                        0xa8, 0x01),
    PMC(           ITLB, ITLB_FLUSH,                                                 0xae, 0x01),
    PMC(           OFFCORE_REQUESTS, DEMAND_DATA_RD,                                 0xb0, 0x01),
    PMC(           OFFCORE_REQUESTS, DEMAND_CODE_RD,                                 0xb0, 0x02),
    PMC(           OFFCORE_REQUESTS, DEMAND_RFO,                                     0xb0, 0x04),
    PMC(           OFFCORE_REQUESTS, ALL_DATA_RD,                                    0xb0, 0x08),
    PMC(           UOPS_EXECUTED, CORE,                                              0xb1, 0x02),
    PMC(           PAGE_WALKER_LOADS, DTLB_L1,                                       0xbc, 0x11),
    PMC(           PAGE_WALKER_LOADS, DTLB_L2,                                       0xbc, 0x12),
    PMC(           PAGE_WALKER_LOADS, DTLB_L3,                                       0xbc, 0x14),
    PMC(           PAGE_WALKER_LOADS, DTLB_MEMORY,                                   0xbc, 0x18),
    PMC(           PAGE_WALKER_LOADS, ITLB_L1,                                       0xbc, 0x21),
    PMC(           PAGE_WALKER_LOADS, ITLB_L2,                                       0xbc, 0x22),
    PMC(           PAGE_WALKER_LOADS, ITLB_L3,                                       0xbc, 0x24),
    PMC(           PAGE_WALKER_LOADS, ITLB_MEMORY,                                   0xbc, 0x28),
    PMC(           TLB_FLUSH, DTLB_THREAD,                                           0xbd, 0x01),
    PMC(           TLB_FLUSH, STLB_ANY,                                              0xbd, 0x20),
    PMC(           INST_RETIRED, ANY,                                                0xc0, 0x00),
    PMC(           OTHER_ASSISTS, AVX_TO_SSE,                                        0xc1, 0x08),
    PMC(           OTHER_ASSISTS, SSE_TO_AVX,                                        0xc1, 0x10),
    PMC(           OTHER_ASSISTS, ANY_WB_ASSIST,                                     0xc1, 0x40),
    PMC(           UOPS_RETIRED, ALL,                                                0xc2, 0x01),
    PMC(           UOPS_RETIRED, RETIRE_SLOTS,                                       0xc2, 0x02),
    PMC(           MACHINE_CLEARS, MEMORY_ORDERING,                                  0xc3, 0x02),
    PMC(           MACHINE_CLEARS, SMC,                                              0xc3, 0x04),
    PMC(           MACHINE_CLEARS, MASKMOV,                                          0xc3, 0x20),
    PMC(           BR_INST_RETIRED, ALL_BRANCHES,                                    0xc4, 0x00),
    PMC(           BR_INST_RETIRED, CONDITIONAL,                                     0xc4, 0x01),
    PMC(           BR_INST_RETIRED, NEAR_CALL,                                       0xc4, 0x02),
    PMC(           BR_INST_RETIRED, NEAR_RETURN,                                     0xc4, 0x08),
    PMC(           BR_INST_RETIRED, NOT_TAKEN,                                       0xc4, 0x10),
    PMC(           BR_INST_RETIRED, NEAR_TAKEN,                                      0xc4, 0x20),
    PMC(           BR_INST_RETIRED, FAR_BRANCH,                                      0xc4, 0x40),
    PMC(           BR_MISP_RETIRED, ALL_BRANCHES,                                    0xc5, 0x00),
    PMC(           BR_MISP_RETIRED, CONDITIONAL,                                     0xc5, 0x01),
    PMC(           BR_MISP_RETIRED, NEAR_TAKEN,                                      0xc5, 0x20),
    PMC(           HLE_RETIRED, START,                                               0xc8, 0x01),
    PMC(           HLE_RETIRED, COMMIT,                                              0xc8, 0x02),
    PMC(           HLE_RETIRED, ABORTED,                                             0xc8, 0x04),
    PMC(           HLE_RETIRED, ABORTED_MEM,                                         0xc8, 0x08),
    PMC(           HLE_RETIRED, ABORTED_TIMER,                                       0xc8, 0x10),
    PMC(           HLE_RETIRED, ABORTED_UNFRIENDLY,                                  0xc8, 0x20),
    PMC(           HLE_RETIRED, ABORTED_MEMTYPE,                                     0xc8, 0x40),
    PMC(           HLE_RETIRED, ABORTED_EVENTS,                                      0xc8, 0x80),
    PMC(           RTM_RETIRED, START,                                               0xc9, 0x01),
    PMC(           RTM_RETIRED, COMMIT,                                              0xc9, 0x02),
    PMC(           RTM_RETIRED, ABORTED,                                             0xc9, 0x04),
    PMC(           RTM_RETIRED, ABORTED_MEM,                                         0xc9, 0x08),
    PMC(           RTM_RETIRED, ABORTED_TIMER,                                       0xc9, 0x10),
    PMC(           RTM_RETIRED, ABORTED_UNFRIENDLY,                                  0xc9, 0x20),
    PMC(           RTM_RETIRED, ABORTED_MEMTYPE,                                     0xc9, 0x40),
    PMC(           RTM_RETIRED, ABORTED_EVENTS,                                      0xc9, 0x80),
    PMC(           FP_ASSIST, X87_OUTPUT,                                            0xca, 0x02),
    PMC(           FP_ASSIST, X87_INPUT,                                             0xca, 0x04),
    PMC(           FP_ASSIST, SIMD_OUTPUT,                                           0xca, 0x08),
    PMC(           FP_ASSIST, SIMD_INPUT,                                            0xca, 0x10),
    PMC(           FP_ASSIST, ANY,                                                   0xca, 0x1e),
    PMC(           ROB_MISC_EVENTS, LBR_INSERTS,                                     0xcc, 0x20),
    PMC(           MEM_UOPS_RETIRED, STLB_MISS_LOADS,                                0xd0, 0x11),
    PMC(           MEM_UOPS_RETIRED, STLB_MISS_STORES,                               0xd0, 0x12),
    PMC(           MEM_UOPS_RETIRED, LOCK_LOADS,                                     0xd0, 0x21),
    PMC(           MEM_UOPS_RETIRED, SPLIT_LOADS,                                    0xd0, 0x41),
    PMC(           MEM_UOPS_RETIRED, SPLIT_STORES,                                   0xd0, 0x42),
    PMC(           MEM_UOPS_RETIRED, ALL_LOADS,                                      0xd0, 0x81),
    PMC(           MEM_UOPS_RETIRED, ALL_STORES,                                     0xd0, 0x82),
    PMC(           MEM_LOAD_UOPS_RETIRED, L1_HIT,                                    0xd1, 0x01),
    PMC(           MEM_LOAD_UOPS_RETIRED, L2_HIT,                                    0xd1, 0x02),
    PMC(           MEM_LOAD_UOPS_RETIRED, L3_HIT,                                    0xd1, 0x04),
    PMC(           MEM_LOAD_UOPS_RETIRED, L1_MISS,                                   0xd1, 0x08),
    PMC(           MEM_LOAD_UOPS_RETIRED, L2_MISS,                                   0xd1, 0x10),
    PMC(           MEM_LOAD_UOPS_RETIRED, L3_MISS,                                   0xd1, 0x20),
    PMC(           MEM_LOAD_UOPS_RETIRED, HIT_LFB,                                   0xd1, 0x40),
    PMC(           MEM_LOAD_UOPS_L3_HIT, RETIRED_XSNP_MISS,                          0xd2, 0x01),
    PMC(           MEM_LOAD_UOPS_L3_HIT, RETIRED_XSNP_HIT,                           0xd2, 0x02),
    PMC(           MEM_LOAD_UOPS_L3_HIT, RETIRED_XSNP_HITM,                          0xd2, 0x04),
    PMC(           MEM_LOAD_UOPS_L3_HIT, RETIRED_XSNP_NONE,                          0xd2, 0x08),
    PMC(           MEM_LOAD_UOPS_L3_MISS, RETIRED_LOCAL_DRAM,                        0xd3, 0x01),
    PMC(           MEM_LOAD_UOPS_L3_MISS, RETIRED_REMOTE_DRAM,                       0xd3, 0x04),
    PMC(           MEM_LOAD_UOPS_L3_MISS, RETIRED_REMOTE_HITM,                       0xd3, 0x10),
    PMC(           MEM_LOAD_UOPS_L3_MISS, RETIRED_REMOTE_FWD,                        0xd3, 0x20),
    PMC(           BACLEARS, ANY,                                                    0xe6, 0x1f),
    PMC(           L2_TRANS, DEMAND_DATA_RD,                                         0xf0, 0x01),
    PMC(           L2_TRANS, RFO,                                                    0xf0, 0x02),
    PMC(           L2_TRANS, CODE_RD,                                                0xf0, 0x04),
    PMC(           L2_TRANS, ALL_PF,                                                 0xf0, 0x08),
    PMC(           L2_TRANS, L1D_WB,                                                 0xf0, 0x10),
    PMC(           L2_TRANS, L2_FILL,                                                0xf0, 0x20),
    PMC(           L2_TRANS, L2_WB,                                                  0xf0, 0x40),
    PMC(           L2_TRANS, ALL_REQUESTS,                                           0xf0, 0x80),
    PMC(           L2_LINES_IN, I,                                                   0xf1, 0x01),
    PMC(           L2_LINES_IN, S,                                                   0xf1, 0x02),
    PMC(           L2_LINES_IN, E,                                                   0xf1, 0x04),
    PMC(           L2_LINES_IN, ALL,                                                 0xf1, 0x07),
    PMC(           L2_LINES_OUT, DEMAND_CLEAN,                                       0xf2, 0x05),
    PMC(           L2_LINES_OUT, DEMAND_DIRTY,                                       0xf2, 0x06),
    { 0 }
};

/* Event definitions for 06_55 */
static struct bperf_event_tuple EVENTS_06_55[] = {
    PMC(           LD_BLOCKS, STORE_FORWARD,                                         0x03, 0x02),
    PMC(           LD_BLOCKS, NO_SR,                                                 0x03, 0x08),
    PMC(           LD_BLOCKS_PARTIAL, ADDRESS_ALIAS,                                 0x07, 0x01),
    PMC(           DTLB_LOAD_MISSES, MISS_CAUSES_A_WALK,                             0x08, 0x01),
    PMC(           DTLB_LOAD_MISSES, WALK_COMPLETED_4K,                              0x08, 0x02),
    PMC(           DTLB_LOAD_MISSES, WALK_COMPLETED_2M_4M,                           0x08, 0x04),
    PMC(           DTLB_LOAD_MISSES, WALK_COMPLETED_1G,                              0x08, 0x08),
    PMC(           DTLB_LOAD_MISSES, WALK_COMPLETED,                                 0x08, 0x0e),
    PMC(           DTLB_LOAD_MISSES, WALK_PENDING,                                   0x08, 0x10),
    PMC_CMASK(     DTLB_LOAD_MISSES, WALK_ACTIVE,                                    0x08, 0x10, 1),
    PMC(           DTLB_LOAD_MISSES, STLB_HIT,                                       0x08, 0x20),
    PMC(           INT_MISC, RECOVERY_CYCLES,                                        0x0d, 0x01),
    PMC(           INT_MISC, CLEAR_RESTEER_CYCLES,                                   0x0d, 0x80),
    PMC(           UOPS_ISSUED, ANY,                                                 0x0e, 0x01),
    PMC_CMASK_INV( UOPS_ISSUED, STALL_CYCLES,                                        0x0e, 0x01, 1),
    PMC(           UOPS_ISSUED, VECTOR_WIDTH_MISMATCH,                               0x0e, 0x02),
    PMC(           UOPS_ISSUED, SLOW_LEA,                                            0x0e, 0x20),
    PMC_CMASK(     ARITH, DIVIDER_ACTIVE,                                            0x14, 0x01, 1),
    PMC(           L2_RQSTS, DEMAND_DATA_RD_MISS,                                    0x24, 0x21),
    PMC(           L2_RQSTS, RFO_MISS,                                               0x24, 0x22),
    PMC(           L2_RQSTS, CODE_RD_MISS,                                           0x24, 0x24),
    PMC(           L2_RQSTS, ALL_DEMAND_MISS,                                        0x24, 0x27),
    PMC(           L2_RQSTS, PF_MISS,                                                0x24, 0x38),
    PMC(           L2_RQSTS, MISS,                                                   0x24, 0x3f),
    PMC(           L2_RQSTS, DEMAND_DATA_RD_HIT,                                     0x24, 0x41),
    PMC(           L2_RQSTS, RFO_HIT,                                                0x24, 0x42),
    PMC(           L2_RQSTS, CODE_RD_HIT,                                            0x24, 0x44),
    PMC(           L2_RQSTS, PF_HIT,                                                 0x24, 0xd8),
    PMC(           L2_RQSTS, ALL_DEMAND_DATA_RD,                                     0x24, 0xe1),
    PMC(           L2_RQSTS, ALL_RFO,                                                0x24, 0xe2),
    PMC(           L2_RQSTS, ALL_CODE_RD,                                            0x24, 0xe4),
    PMC(           L2_RQSTS, ALL_DEMAND_REFERENCES,                                  0x24, 0xe7),
    PMC(           L2_RQSTS, ALL_PF,                                                 0x24, 0xf8),
    PMC(           L2_RQSTS, REFERENCES,                                             0x24, 0xff),
    PMC(           CORE_POWER, LVL0_TURBO_LICENSE,                                   0x28, 0x07),
    PMC(           CORE_POWER, LVL1_TURBO_LICENSE,                                   0x28, 0x18),
    PMC(           CORE_POWER, LVL2_TURBO_LICENSE,                                   0x28, 0x20),
    PMC(           CORE_POWER, THROTTLE,                                             0x28, 0x40),
    PMC(           LONGEST_LAT_CACHE, MISS,                                          0x2e, 0x41),
    PMC(           LONGEST_LAT_CACHE, REFERENCE,                                     0x2e, 0x4f),
    PMC(           CPU_CLK_UNHALTED, THREAD,                                         0x3c, 0x00),
    PMC_CMASK_EDG(CPU_CLK_UNHALTED, RING0_TRANS,                                     0x3c, 0x00, 1),
    PMC(           CPU_CLK_UNHALTED, REF_TSC,                                        0x3c, 0x01),
    PMC(           CPU_CLK_UNHALTED, ONE_THREAD_ACTIVE,                              0x3c, 0x02),
    PMC(           L1D_PEND_MISS, PENDING,                                           0x48, 0x01),
    PMC_CMASK(     L1D_PEND_MISS, PENDING_CYCLES,                                    0x48, 0x01, 1),
    PMC(           L1D_PEND_MISS, FB_FULL,                                           0x48, 0x02),
    PMC(           DTLB_STORE_MISSES, MISS_CAUSES_A_WALK,                            0x49, 0x01),
    PMC(           DTLB_STORE_MISSES, WALK_COMPLETED_4K,                             0x49, 0x02),
    PMC(           DTLB_STORE_MISSES, WALK_COMPLETED_2M_4M,                          0x49, 0x04),
    PMC(           DTLB_STORE_MISSES, WALK_COMPLETED_1G,                             0x49, 0x08),
    PMC(           DTLB_STORE_MISSES, WALK_COMPLETED,                                0x49, 0x0e),
    PMC(           DTLB_STORE_MISSES, WALK_PENDING,                                  0x49, 0x10),
    PMC_CMASK(     DTLB_STORE_MISSES, WALK_ACTIVE,                                   0x49, 0x10, 1),
    PMC(           DTLB_STORE_MISSES, STLB_HIT,                                      0x49, 0x20),
    PMC(           LOAD_HIT_PRE, SW_PF,                                              0x4c, 0x01),
    PMC(           EPT, WALK_PENDING,                                                0x4f, 0x10),
    PMC(           L1D, REPLACEMENT,                                                 0x51, 0x01),
    PMC(           TX_MEM, ABORT_CONFLICT,                                           0x54, 0x01),
    PMC(           TX_MEM, ABORT_CAPACITY,                                           0x54, 0x02),
    PMC(           TX_MEM, ABORT_HLE_STORE_TO_ELIDED_LOCK,                           0x54, 0x04),
    PMC(           TX_MEM, ABORT_HLE_ELISION_BUFFER_NOT_EMPTY,                       0x54, 0x08),
    PMC(           TX_MEM, ABORT_HLE_ELISION_BUFFER_MISMATCH,                        0x54, 0x10),
    PMC(           TX_MEM, ABORT_HLE_ELISION_BUFFER_UNSUPPORTED_ALIGNMENT,           0x54, 0x20),
    PMC(           TX_MEM, ABORT_HLE_ELISION_BUFFER_FULL,                            0x54, 0x40),
    PMC(           TX_EXEC, MISC1,                                                   0x5d, 0x01),
    PMC(           TX_EXEC, MISC2,                                                   0x5d, 0x02),
    PMC(           TX_EXEC, MISC3,                                                   0x5d, 0x04),
    PMC(           TX_EXEC, MISC4,                                                   0x5d, 0x08),
    PMC(           TX_EXEC, MISC5,                                                   0x5d, 0x10),
    PMC(           RS_EVENTS, EMPTY_CYCLES,                                          0x5e, 0x01),
    PMC_CMASK_INV_EDG(RS_EVENTS, EMPTY_END,                                          0x5e, 0x01, 1),
    PMC(           OFFCORE_REQUESTS_OUTSTANDING, DEMAND_DATA_RD,                     0x60, 0x01),
    PMC_CMASK(     OFFCORE_REQUESTS_OUTSTANDING, CYCLES_WITH_DEMAND_DATA_RD,         0x60, 0x01, 1),
    PMC_CMASK(     OFFCORE_REQUESTS_OUTSTANDING, DEMAND_DATA_RD_GE_6,                0x60, 0x01, 6),
    PMC(           OFFCORE_REQUESTS_OUTSTANDING, DEMAND_CODE_RD,                     0x60, 0x02),
    PMC_CMASK(     OFFCORE_REQUESTS_OUTSTANDING, CYCLES_WITH_DEMAND_CODE_RD,         0x60, 0x02, 1),
    PMC(           OFFCORE_REQUESTS_OUTSTANDING, DEMAND_RFO,                         0x60, 0x04),
    PMC_CMASK(     OFFCORE_REQUESTS_OUTSTANDING, CYCLES_WITH_DEMAND_RFO,             0x60, 0x04, 1),
    PMC(           OFFCORE_REQUESTS_OUTSTANDING, ALL_DATA_RD,                        0x60, 0x08),
    PMC_CMASK(     OFFCORE_REQUESTS_OUTSTANDING, CYCLES_WITH_DATA_RD,                0x60, 0x08, 1),
    PMC(           OFFCORE_REQUESTS_OUTSTANDING, L3_MISS_DEMAND_DATA_RD,             0x60, 0x10),
    PMC_CMASK(     OFFCORE_REQUESTS_OUTSTANDING, CYCLES_WITH_L3_MISS_DEMAND_DATA_RD, 0x60, 0x10, 1),
    PMC_CMASK(     OFFCORE_REQUESTS_OUTSTANDING, L3_MISS_DEMAND_DATA_RD_GE_6,        0x60, 0x10, 6),
    PMC(           IDQ, MITE_UOPS,                                                   0x79, 0x04),
    PMC_CMASK(     IDQ, MITE_CYCLES,                                                 0x79, 0x04, 1),
    PMC(           IDQ, DSB_UOPS,                                                    0x79, 0x08),
    PMC_CMASK(     IDQ, DSB_CYCLES,                                                  0x79, 0x08, 1),
    PMC_CMASK(     IDQ, MS_DSB_CYCLES,                                               0x79, 0x10, 1),
    PMC_CMASK(     IDQ, ALL_DSB_CYCLES_ANY_UOPS,                                     0x79, 0x18, 1),
    PMC_CMASK(     IDQ, ALL_DSB_CYCLES_4_UOPS,                                       0x79, 0x18, 4),
    PMC(           IDQ, MS_MITE_UOPS,                                                0x79, 0x20),
    PMC_CMASK(     IDQ, ALL_MITE_CYCLES_ANY_UOPS,                                    0x79, 0x24, 1),
    PMC_CMASK(     IDQ, ALL_MITE_CYCLES_4_UOPS,                                      0x79, 0x24, 4),
    PMC_CMASK(     IDQ, MS_CYCLES,                                                   0x79, 0x30, 1),
    PMC_CMASK_EDG(IDQ, MS_SWITCHES,                                                  0x79, 0x30, 1),
    PMC(           IDQ, MS_UOPS,                                                     0x79, 0x30),
    PMC(           ICACHE_16B, IFDATA_STALL,                                         0x80, 0x04),
    PMC(           ICACHE_64B, IFTAG_HIT,                                            0x83, 0x01),
    PMC(           ICACHE_64B, IFTAG_MISS,                                           0x83, 0x02),
    PMC(           ICACHE_64B, IFTAG_STALL,                                          0x83, 0x04),
    PMC(           ITLB_MISSES, MISS_CAUSES_A_WALK,                                  0x85, 0x01),
    PMC(           ITLB_MISSES, WALK_COMPLETED_4K,                                   0x85, 0x02),
    PMC(           ITLB_MISSES, WALK_COMPLETED_2M_4M,                                0x85, 0x04),
    PMC(           ITLB_MISSES, WALK_COMPLETED_1G,                                   0x85, 0x08),
    PMC(           ITLB_MISSES, WALK_COMPLETED,                                      0x85, 0x0e),
    PMC(           ITLB_MISSES, WALK_PENDING,                                        0x85, 0x10),
    PMC_CMASK(     ITLB_MISSES, WALK_ACTIVE,                                         0x85, 0x10, 1),
    PMC(           ITLB_MISSES, STLB_HIT,                                            0x85, 0x20),
    PMC(           ILD, STALL_LCP,                                                   0x87, 0x01),
    PMC(           IDQ_UOPS_NOT_DELIVERED, CORE,                                     0x9c, 0x01),
    PMC_CMASK(     IDQ_UOPS_NOT_DELIVERED, CYCLES_0_UOP_DELIV_CORE,                  0x9c, 0x01, 4),
    PMC_CMASK(     IDQ_UOPS_NOT_DELIVERED, CYCLES_LE_1_UOP_DELIV_CORE,               0x9c, 0x01, 3),
    PMC_CMASK(     IDQ_UOPS_NOT_DELIVERED, CYCLES_LE_2_UOP_DELIV_CORE,               0x9c, 0x01, 2),
    PMC_CMASK(     IDQ_UOPS_NOT_DELIVERED, CYCLES_LE_3_UOP_DELIV_CORE,               0x9c, 0x01, 1),
    PMC_CMASK_INV( IDQ_UOPS_NOT_DELIVERED, CYCLES_FE_WAS_OK,                         0x9c, 0x01, 1),
    PMC(           UOPS_DISPATCHED_PORT, PORT_0,                                     0xa1, 0x01),
    PMC(           UOPS_DISPATCHED_PORT, PORT_1,                                     0xa1, 0x02),
    PMC(           UOPS_DISPATCHED_PORT, PORT_2,                                     0xa1, 0x04),
    PMC(           UOPS_DISPATCHED_PORT, PORT_3,                                     0xa1, 0x08),
    PMC(           UOPS_DISPATCHED_PORT, PORT_4,                                     0xa1, 0x10),
    PMC(           UOPS_DISPATCHED_PORT, PORT_5,                                     0xa1, 0x20),
    PMC(           UOPS_DISPATCHED_PORT, PORT_6,                                     0xa1, 0x40),
    PMC(           UOPS_DISPATCHED_PORT, PORT_7,                                     0xa1, 0x80),
    PMC(           RESOURCE_STALLS, ANY,                                             0xa2, 0x01),
    PMC(           RESOURCE_STALLS, SB,                                              0xa2, 0x08),
    PMC(           CYCLE_ACTIVITY, CYCLES_L2_MISS,                                   0xa3, 0x01),
    PMC(           CYCLE_ACTIVITY, CYCLES_L3_MISS,                                   0xa3, 0x02),
    PMC(           CYCLE_ACTIVITY, STALLS_TOTAL,                                     0xa3, 0x04),
    PMC(           CYCLE_ACTIVITY, STALLS_L2_MISS,                                   0xa3, 0x05),
    PMC(           CYCLE_ACTIVITY, STALLS_L3_MISS,                                   0xa3, 0x06),
    PMC(           CYCLE_ACTIVITY, CYCLES_L1D_MISS,                                  0xa3, 0x08),
    PMC(           CYCLE_ACTIVITY, STALLS_L1D_MISS,                                  0xa3, 0x0c),
    PMC(           CYCLE_ACTIVITY, CYCLES_MEM_ANY,                                   0xa3, 0x10),
    PMC(           CYCLE_ACTIVITY, STALLS_MEM_ANY,                                   0xa3, 0x14),
    PMC(           EXE_ACTIVITY, BOUND_0_PORTS,                                      0xa6, 0x01),
    PMC(           EXE_ACTIVITY, 1_PORTS_UTIL,                                       0xa6, 0x02),
    PMC(           EXE_ACTIVITY, 2_PORTS_UTIL,                                       0xa6, 0x04),
    PMC(           EXE_ACTIVITY, 3_PORTS_UTIL,                                       0xa6, 0x08),
    PMC(           EXE_ACTIVITY, 4_PORTS_UTIL,                                       0xa6, 0x10),
    PMC(           EXE_ACTIVITY, BOUND_ON_STORES,                                    0xa6, 0x40),
    PMC(           LSD, UOPS,                                                        0xa8, 0x01),
    PMC_CMASK(     LSD, CYCLES_ACTIVE,                                               0xa8, 0x01, 1),
    PMC_CMASK(     LSD, CYCLES_4_UOPS,                                               0xa8, 0x01, 4),
    PMC(           DSB2MITE_SWITCHES, PENALTY_CYCLES,                                0xab, 0x02),
    PMC(           ITLB, ITLB_FLUSH,                                                 0xae, 0x01),
    PMC(           OFFCORE_REQUESTS, DEMAND_DATA_RD,                                 0xb0, 0x01),
    PMC(           OFFCORE_REQUESTS, DEMAND_CODE_RD,                                 0xb0, 0x02),
    PMC(           OFFCORE_REQUESTS, DEMAND_RFO,                                     0xb0, 0x04),
    PMC(           OFFCORE_REQUESTS, ALL_DATA_RD,                                    0xb0, 0x08),
    PMC(           OFFCORE_REQUESTS, L3_MISS_DEMAND_DATA_RD,                         0xb0, 0x10),
    PMC(           OFFCORE_REQUESTS, ALL_REQUESTS,                                   0xb0, 0x80),
    PMC(           UOPS_EXECUTED, THREAD,                                            0xb1, 0x01),
    PMC_CMASK_INV( UOPS_EXECUTED, STALL_CYCLES,                                      0xb1, 0x01, 1),
    PMC_CMASK(     UOPS_EXECUTED, CYCLES_GE_1_UOP_EXEC,                              0xb1, 0x01, 1),
    PMC_CMASK(     UOPS_EXECUTED, CYCLES_GE_2_UOP_EXEC,                              0xb1, 0x01, 2),
    PMC_CMASK(     UOPS_EXECUTED, CYCLES_GE_3_UOP_EXEC,                              0xb1, 0x01, 3),
    PMC_CMASK(     UOPS_EXECUTED, CYCLES_GE_4_UOP_EXEC,                              0xb1, 0x01, 4),
    PMC(           UOPS_EXECUTED, CORE,                                              0xb1, 0x02),
    PMC_CMASK(     UOPS_EXECUTED, CORE_CYCLES_GE_1,                                  0xb1, 0x02, 1),
    PMC_CMASK(     UOPS_EXECUTED, CORE_CYCLES_GE_2,                                  0xb1, 0x02, 2),
    PMC_CMASK(     UOPS_EXECUTED, CORE_CYCLES_GE_3,                                  0xb1, 0x02, 3),
    PMC_CMASK(     UOPS_EXECUTED, CORE_CYCLES_GE_4,                                  0xb1, 0x02, 4),
    PMC_CMASK_INV( UOPS_EXECUTED, CORE_CYCLES_NONE,                                  0xb1, 0x02, 1),
    PMC(           UOPS_EXECUTED, X87,                                               0xb1, 0x10),
    PMC(           OFF_CORE_REQUEST_BUFFER, SQ_FULL,                                 0xb2, 0x01),
    PMC(           TLB_FLUSH, DTLB_THREAD,                                           0xbd, 0x01),
    PMC(           TLB_FLUSH, STLB_ANY,                                              0xbd, 0x20),
    PMC(           INST_RETIRED, ANY,                                                0xc0, 0x00),
    PMC(           OTHER_ASSISTS, ANY,                                               0xc1, 0x3f),
    PMC_CMASK_INV( UOPS_RETIRED, STALL_CYCLES,                                       0xc2, 0x01, 1),
    PMC_CMASK_INV( UOPS_RETIRED, TOTAL_CYCLES,                                       0xc2, 0x01, 10),
    PMC(           UOPS_RETIRED, RETIRE_SLOTS,                                       0xc2, 0x02),
    PMC(           MACHINE_CLEARS, COUNT,                                            0xc3, 0x01),
    PMC(           MACHINE_CLEARS, MEMORY_ORDERING,                                  0xc3, 0x02),
    PMC(           MACHINE_CLEARS, SMC,                                              0xc3, 0x04),
    PMC(           BR_INST_RETIRED, ALL_BRANCHES,                                    0xc4, 0x00),
    PMC(           BR_INST_RETIRED, CONDITIONAL,                                     0xc4, 0x01),
    PMC(           BR_INST_RETIRED, NEAR_CALL,                                       0xc4, 0x02),
    PMC(           BR_INST_RETIRED, NEAR_RETURN,                                     0xc4, 0x08),
    PMC(           BR_INST_RETIRED, NOT_TAKEN,                                       0xc4, 0x10),
    PMC(           BR_INST_RETIRED, NEAR_TAKEN,                                      0xc4, 0x20),
    PMC(           BR_INST_RETIRED, FAR_BRANCH,                                      0xc4, 0x40),
    PMC(           BR_MISP_RETIRED, ALL_BRANCHES,                                    0xc5, 0x00),
    PMC(           BR_MISP_RETIRED, CONDITIONAL,                                     0xc5, 0x01),
    PMC(           BR_MISP_RETIRED, NEAR_CALL,                                       0xc5, 0x02),
    PMC(           BR_MISP_RETIRED, NEAR_TAKEN,                                      0xc5, 0x20),
    PMC(           FP_ARITH_INST_RETIRED, SCALAR_DOUBLE,                             0xc7, 0x01),
    PMC(           FP_ARITH_INST_RETIRED, SCALAR_SINGLE,                             0xc7, 0x02),
    PMC(           FP_ARITH_INST_RETIRED, 128B_PACKED_DOUBLE,                        0xc7, 0x04),
    PMC(           FP_ARITH_INST_RETIRED, 128B_PACKED_SINGLE,                        0xc7, 0x08),
    PMC(           FP_ARITH_INST_RETIRED, 256B_PACKED_DOUBLE,                        0xc7, 0x10),
    PMC(           FP_ARITH_INST_RETIRED, 256B_PACKED_SINGLE,                        0xc7, 0x20),
    PMC(           FP_ARITH_INST_RETIRED, 512B_PACKED_DOUBLE,                        0xc7, 0x40),
    PMC(           FP_ARITH_INST_RETIRED, 512B_PACKED_SINGLE,                        0xc7, 0x80),
    PMC(           HLE_RETIRED, START,                                               0xc8, 0x01),
    PMC(           HLE_RETIRED, COMMIT,                                              0xc8, 0x02),
    PMC(           HLE_RETIRED, ABORTED,                                             0xc8, 0x04),
    PMC(           HLE_RETIRED, ABORTED_MEM,                                         0xc8, 0x08),
    PMC(           HLE_RETIRED, ABORTED_TIMER,                                       0xc8, 0x10),
    PMC(           HLE_RETIRED, ABORTED_UNFRIENDLY,                                  0xc8, 0x20),
    PMC(           HLE_RETIRED, ABORTED_MEMTYPE,                                     0xc8, 0x40),
    PMC(           HLE_RETIRED, ABORTED_EVENTS,                                      0xc8, 0x80),
    PMC(           RTM_RETIRED, START,                                               0xc9, 0x01),
    PMC(           RTM_RETIRED, COMMIT,                                              0xc9, 0x02),
    PMC(           RTM_RETIRED, ABORTED,                                             0xc9, 0x04),
    PMC(           RTM_RETIRED, ABORTED_MEM,                                         0xc9, 0x08),
    PMC(           RTM_RETIRED, ABORTED_TIMER,                                       0xc9, 0x10),
    PMC(           RTM_RETIRED, ABORTED_UNFRIENDLY,                                  0xc9, 0x20),
    PMC(           RTM_RETIRED, ABORTED_MEMTYPE,                                     0xc9, 0x40),
    PMC(           RTM_RETIRED, ABORTED_EVENTS,                                      0xc9, 0x80),
    PMC_CMASK(     FP_ASSIST, ANY,                                                   0xca, 0x1e, 1),
    PMC(           HW_INTERRUPTS, RECEIVED,                                          0xcb, 0x01),
    PMC(           MEM_INST_RETIRED, STLB_MISS_LOADS,                                0xd0, 0x11),
    PMC(           MEM_INST_RETIRED, STLB_MISS_STORES,                               0xd0, 0x12),
    PMC(           MEM_INST_RETIRED, LOCK_LOADS,                                     0xd0, 0x21),
    PMC(           MEM_INST_RETIRED, SPLIT_LOADS,                                    0xd0, 0x41),
    PMC(           MEM_INST_RETIRED, SPLIT_STORES,                                   0xd0, 0x42),
    PMC(           MEM_INST_RETIRED, ALL_LOADS,                                      0xd0, 0x81),
    PMC(           MEM_INST_RETIRED, ALL_STORES,                                     0xd0, 0x82),
    PMC(           MEM_LOAD_RETIRED, L1_HIT,                                         0xd1, 0x01),
    PMC(           MEM_LOAD_RETIRED, L2_HIT,                                         0xd1, 0x02),
    PMC(           MEM_LOAD_RETIRED, L3_HIT,                                         0xd1, 0x04),
    PMC(           MEM_LOAD_RETIRED, L1_MISS,                                        0xd1, 0x08),
    PMC(           MEM_LOAD_RETIRED, L2_MISS,                                        0xd1, 0x10),
    PMC(           MEM_LOAD_RETIRED, L3_MISS,                                        0xd1, 0x20),
    PMC(           MEM_LOAD_RETIRED, FB_HIT,                                         0xd1, 0x40),
    PMC(           MEM_LOAD_L3_HIT_RETIRED, X_SNP_MISS,                              0xd2, 0x01),
    PMC(           MEM_LOAD_L3_HIT_RETIRED, X_SNP_HIT,                               0xd2, 0x02),
    PMC(           MEM_LOAD_L3_HIT_RETIRED, X_SNP_HITM,                              0xd2, 0x04),
    PMC(           MEM_LOAD_L3_HIT_RETIRED, X_SNP_NONE,                              0xd2, 0x08),
    PMC(           MEM_LOAD_L3_MISS_RETIRED, LOCAL_DRAM,                             0xd3, 0x01),
    PMC(           MEM_LOAD_L3_MISS_RETIRED, REMOTE_DRAM,                            0xd3, 0x02),
    PMC(           MEM_LOAD_L3_MISS_RETIRED, REMOTE_HITM,                            0xd3, 0x04),
    PMC(           MEM_LOAD_L3_MISS_RETIRED, REMOTE_FWD,                             0xd3, 0x08),
    PMC(           MEM_LOAD_MISC_RETIRED, UC,                                        0xd4, 0x04),
    PMC(           BACLEARS, ANY,                                                    0xe6, 0x01),
    PMC(           L2_TRANS, L2_WB,                                                  0xf0, 0x40),
    PMC(           L2_LINES, IN_ALL,                                                 0xf1, 0x1f),
    PMC(           L2_LINES, OUT_SILENT,                                             0xf2, 0x01),
    PMC(           L2_LINES, OUT_NON_SILENT,                                         0xf2, 0x02),
    PMC(           L2_LINES, OUT_USELESS_PREF,                                       0xf2, 0x04),
    PMC(           L2_LINES, OUT_USELESS_HWPF,                                       0xf2, 0x04),
    PMC(           SQ_MISC, SPLIT_LOCK,                                              0xf4, 0x10),
    PMC(           IDI_MISC, WB_UPGRADE,                                             0xfe, 0x02),
    PMC(           IDI_MISC, WB_DOWNGRADE,                                           0xfe, 0x04),
    { 0 }
};

/* Event descriptions for 6th gen, 7th, and 8th gen gen Intel Core processors */
static struct bperf_event_tuple EVENTS_6TH_7TH_8TH_GEN_INTEL_CORE[] = {
    PMC(           LD_BLOCKS, STORE_FORWARD,                                         0x03, 0x02),
    PMC(           LD_BLOCKS, NO_SR,                                                 0x03, 0x08),
    PMC(           LD_BLOCKS_PARTIAL, ADDRESS_ALIAS,                                 0x07, 0x01),
    PMC(           DTLB_LOAD_MISSES, MISS_CAUSES_A_WALK,                             0x08, 0x01),
    PMC(           DTLB_LOAD_MISSES, WALK_COMPLETED,                                 0x08, 0x0e),
    PMC(           DTLB_LOAD_MISSES, WALK_PENDING,                                   0x08, 0x10),
    PMC_CMASK(     DTLB_LOAD_MISSES, WALK_ACTIVE,                                    0x08, 0x10, 1),
    PMC(           DTLB_LOAD_MISSES, STLB_HIT,                                       0x08, 0x20),
    PMC(           INT_MISC, RECOVERY_CYCLES,                                        0x0d, 0x01),
    PMC(           INT_MISC, CLEAR_RESTEER_CYCLES,                                   0x0d, 0x80),
    PMC(           UOPS_ISSUED, ANY,                                                 0x0e, 0x01),
    PMC_CMASK_INV( UOPS_ISSUED, STALL_CYCLES,                                        0x0e, 0x01, 1),
    PMC(           UOPS_ISSUED, VECTOR_WIDTH_MISMATCH,                               0x0e, 0x02),
    PMC(           UOPS_ISSUED, SLOW_LEA,                                            0x0e, 0x20),
    PMC(           ARITH, FPU_DIVIDER_ACTIVE,                                        0x14, 0x01),
    PMC(           L2_RQSTS, DEMAND_DATA_RD_MISS,                                    0x24, 0x21),
    PMC(           L2_RQSTS, RFO_MISS,                                               0x24, 0x22),
    PMC(           L2_RQSTS, CODE_RD_MISS,                                           0x24, 0x24),
    PMC(           L2_RQSTS, ALL_DEMAND_MISS,                                        0x24, 0x27),
    PMC(           L2_RQSTS, PF_MISS,                                                0x24, 0x38),
    PMC(           L2_RQSTS, MISS,                                                   0x24, 0x3f),
    PMC(           L2_RQSTS, DEMAND_DATA_RD_HIT,                                     0x24, 0x41),
    PMC(           L2_RQSTS, RFO_HIT,                                                0x24, 0x42),
    PMC(           L2_RQSTS, CODE_RD_HIT,                                            0x24, 0x44),
    PMC(           L2_RQSTS, PF_HIT,                                                 0x24, 0xd8),
    PMC(           L2_RQSTS, ALL_DEMAND_DATA_RD,                                     0x24, 0xe1),
    PMC(           L2_RQSTS, ALL_RFO,                                                0x24, 0xe2),
    PMC(           L2_RQSTS, ALL_CODE_RD,                                            0x24, 0xe4),
    PMC(           L2_RQSTS, ALL_DEMAND_REFERENCES,                                  0x24, 0xe7),
    PMC(           L2_RQSTS, ALL_PF,                                                 0x24, 0xf8),
    PMC(           L2_RQSTS, REFERENCES,                                             0x24, 0xff),
    PMC(           LONGEST_LAT_CACHE, MISS,                                          0x2e, 0x41),
    PMC(           LONGEST_LAT_CACHE, REFERENCE,                                     0x2e, 0x4f),
    PMC(           CPU_CLK_UNHALTED, THREAD,                                         0x3c, 0x00),
    PMC(           CPU_CLK_UNHALTED, REF_TSC,                                        0x3c, 0x01),
    PMC(           CPU_CLK_UNHALTED, ONE_THREAD_ACTIVE,                              0x3c, 0x02),
    PMC(           L1D_PEND_MISS, PENDING,                                           0x48, 0x01),
    PMC_CMASK(     L1D_PEND_MISS, PENDING_CYCLES,                                    0x48, 0x01, 1),
    PMC(           L1D_PEND_MISS, FB_FULL,                                           0x48, 0x02),
    PMC(           DTLB_STORE_MISSES, MISS_CAUSES_A_WALK,                            0x49, 0x01),
    PMC(           DTLB_STORE_MISSES, WALK_COMPLETED,                                0x49, 0x0e),
    PMC(           DTLB_STORE_MISSES, WALK_PENDING,                                  0x49, 0x10),
    PMC_CMASK(     DTLB_STORE_MISSES, WALK_ACTIVE,                                   0x49, 0x10, 1),
    PMC(           DTLB_STORE_MISSES, STLB_HIT,                                      0x49, 0x20),
    PMC(           LOAD_HIT_PRE, SW_PF,                                              0x4c, 0x01),
    PMC(           EPT, WALK_PENDING,                                                0x4f, 0x10),
    PMC(           L1D, REPLACEMENT,                                                 0x51, 0x01),
    PMC(           RS_EVENTS, EMPTY_CYCLES,                                          0x5e, 0x01),
    PMC_CMASK_INV_EDG(RS_EVENTS, EMPTY_END,                                          0x5e, 0x01, 1),
    PMC(           OFFCORE_REQUESTS_OUTSTANDING, DEMAND_DATA_RD,                     0x60, 0x01),
    PMC_CMASK(     OFFCORE_REQUESTS_OUTSTANDING, CYCLES_WITH_DEMAND_DATA_RD,         0x60, 0x01, 1),
    PMC_CMASK(     OFFCORE_REQUESTS_OUTSTANDING, DEMAND_DATA_RD_GE_6,                0x60, 0x01, 6),
    PMC(           OFFCORE_REQUESTS_OUTSTANDING, DEMAND_CODE_RD,                     0x60, 0x02),
    PMC_CMASK(     OFFCORE_REQUESTS_OUTSTANDING, CYCLES_WITH_DEMAND_CODE_RD,         0x60, 0x02, 1),
    PMC(           OFFCORE_REQUESTS_OUTSTANDING, DEMAND_RFO,                         0x60, 0x04),
    PMC_CMASK(     OFFCORE_REQUESTS_OUTSTANDING, CYCLES_WITH_DEMAND_RFO,             0x60, 0x04, 1),
    PMC(           OFFCORE_REQUESTS_OUTSTANDING, ALL_DATA_RD,                        0x60, 0x08),
    PMC_CMASK(     OFFCORE_REQUESTS_OUTSTANDING, CYCLES_WITH_DATA_RD,                0x60, 0x08, 1),
    PMC(           OFFCORE_REQUESTS_OUTSTANDING, L3_MISS_DEMAND_DATA_RD,             0x60, 0x10),
    PMC_CMASK(     OFFCORE_REQUESTS_OUTSTANDING, CYCLES_WITH_L3_MISS_DEMAND_DATA_RD, 0x60, 0x10, 1),
    PMC_CMASK(     OFFCORE_REQUESTS_OUTSTANDING, L3_MISS_DEMAND_DATA_RD_GE_6,        0x60, 0x10, 6),
    PMC(           LOCK_CYCLES, CACHE_LOCK_DURATION,                                 0x63, 0x02),
    PMC(           IDQ, MITE_UOPS,                                                   0x79, 0x04),
    PMC_CMASK(     IDQ, MITE_CYCLES,                                                 0x79, 0x04, 1),
    PMC(           IDQ, DSB_UOPS,                                                    0x79, 0x08),
    PMC_CMASK(     IDQ, DSB_CYCLES,                                                  0x79, 0x08, 1),
    PMC(           IDQ, MS_DSB_UOPS,                                                 0x79, 0x10),
    PMC_CMASK(     IDQ, ALL_DSB_CYCLES_ANY_UOPS,                                     0x79, 0x18, 1),
    PMC_CMASK(     IDQ, ALL_DSB_CYCLES_4_UOPS,                                       0x79, 0x18, 4),
    PMC(           IDQ, MS_MITE_UOPS,                                                0x79, 0x20),
    PMC_CMASK(     IDQ, ALL_MITE_CYCLES_ANY_UOPS,                                    0x79, 0x24, 1),
    PMC_CMASK(     IDQ, ALL_MITE_CYCLES_4_UOPS,                                      0x79, 0x24, 4),
    PMC(           IDQ, MS_UOPS,                                                     0x79, 0x30),
    PMC_EDG(IDQ, MS_SWITCHES,                                                        0x79, 0x30),
    PMC_CMASK(     IDQ, MS_CYCLES,                                                   0x79, 0x30, 1),
    PMC(           ICACHE_16B, IFDATA_STALL,                                         0x80, 0x04),
    PMC(           ICACHE_64B, IFDATA_STALL,                                         0x80, 0x04),
    PMC(           ICACHE_64B, IFTAG_HIT,                                            0x83, 0x01),
    PMC(           ICACHE_64B, IFTAG_MISS,                                           0x83, 0x02),
    PMC(           ITLB_MISSES, MISS_CAUSES_A_WALK,                                  0x85, 0x01),
    PMC(           ITLB_MISSES, WALK_COMPLETED,                                      0x85, 0x0e),
    PMC(           ITLB_MISSES, WALK_PENDING,                                        0x85, 0x10),
    PMC(           ITLB_MISSES, STLB_HIT,                                            0x85, 0x20),
    PMC(           ILD_STALL, LCP,                                                   0x87, 0x01),
    PMC(           IDQ_UOPS_NOT_DELIVERED, CORE,                                     0x9c, 0x01),
    PMC_CMASK(     IDQ_UOPS_NOT_DELIVERED, CYCLES_0_UOP_DELIV_CORE,                  0x9c, 0x01, 4),
    PMC_CMASK(     IDQ_UOPS_NOT_DELIVERED, CYCLES_LE_1_UOP_DELIV_CORE,               0x9c, 0x01, 3),
    PMC_CMASK(     IDQ_UOPS_NOT_DELIVERED, CYCLES_LE_2_UOP_DELIV_CORE,               0x9c, 0x01, 2),
    PMC_CMASK(     IDQ_UOPS_NOT_DELIVERED, CYCLES_LE_3_UOP_DELIV_CORE,               0x9c, 0x01, 1),
    PMC_CMASK_INV( IDQ_UOPS_NOT_DELIVERED, CYCLES_FE_WAS_OK,                         0x9c, 0x01, 1),
    PMC(           UOPS_DISPATCHED_PORT, PORT_0,                                     0xa1, 0x01),
    PMC(           UOPS_DISPATCHED_PORT, PORT_1,                                     0xa1, 0x02),
    PMC(           UOPS_DISPATCHED_PORT, PORT_2,                                     0xa1, 0x04),
    PMC(           UOPS_DISPATCHED_PORT, PORT_3,                                     0xa1, 0x08),
    PMC(           UOPS_DISPATCHED_PORT, PORT_4,                                     0xa1, 0x10),
    PMC(           UOPS_DISPATCHED_PORT, PORT_5,                                     0xa1, 0x20),
    PMC(           UOPS_DISPATCHED_PORT, PORT_6,                                     0xa1, 0x40),
    PMC(           UOPS_DISPATCHED_PORT, PORT_7,                                     0xa1, 0x80),
    PMC(           RESOURCE_STALLS, ANY,                                             0xa2, 0x01),
    PMC(           RESOURCE_STALLS, SB,                                              0xa2, 0x08),
    PMC(           CYCLE_ACTIVITY, CYCLES_L2_MISS,                                   0xa3, 0x01),
    PMC(           CYCLE_ACTIVITY, CYCLES_L3_MISS,                                   0xa3, 0x02),
    PMC(           CYCLE_ACTIVITY, STALLS_TOTAL,                                     0xa3, 0x04),
    PMC(           CYCLE_ACTIVITY, STALLS_L2_MISS,                                   0xa3, 0x05),
    PMC(           CYCLE_ACTIVITY, STALLS_L3_MISS,                                   0xa3, 0x06),
    PMC(           CYCLE_ACTIVITY, CYCLES_L1D_MISS,                                  0xa3, 0x08),
    PMC(           CYCLE_ACTIVITY, STALLS_L1D_MISS,                                  0xa3, 0x0c),
    PMC(           CYCLE_ACTIVITY, CYCLES_MEM_ANY,                                   0xa3, 0x10),
    PMC(           CYCLE_ACTIVITY, STALLS_MEM_ANY,                                   0xa3, 0x14),
    PMC(           EXE_ACTIVITY, BOUND_0_PORTS,                                      0xa6, 0x01),
    PMC(           EXE_ACTIVITY, 1_PORTS_UTIL,                                       0xa6, 0x02),
    PMC(           EXE_ACTIVITY, 2_PORTS_UTIL,                                       0xa6, 0x04),
    PMC(           EXE_ACTIVITY, 3_PORTS_UTIL,                                       0xa6, 0x08),
    PMC(           EXE_ACTIVITY, BOUND_ON_STORES,                                    0xa6, 0x40),
    PMC(           LSD, UOPS,                                                        0xa8, 0x01),
    PMC_CMASK(     LSD, CYCLES_ACTIVE,                                               0xa8, 0x01, 1),
    PMC_CMASK(     LSD, CYCLES_4_UOPS,                                               0xa8, 0x01, 4),
    PMC(           DSB2MITE_SWITCHES, PENALTY_CYCLES,                                0xab, 0x02),
    PMC(           ITLB, ITLB_FLUSH,                                                 0xae, 0x01),
    PMC(           OFFCORE_REQUESTS, DEMAND_DATA_RD,                                 0xb0, 0x01),
    PMC(           OFFCORE_REQUESTS, DEMAND_CODE_RD,                                 0xb0, 0x02),
    PMC(           OFFCORE_REQUESTS, DEMAND_RFO,                                     0xb0, 0x04),
    PMC(           OFFCORE_REQUESTS, ALL_DATA_RD,                                    0xb0, 0x08),
    PMC(           OFFCORE_REQUESTS, L3_MISS_DEMAND_DATA_RD,                         0xb0, 0x10),
    PMC(           OFFCORE_REQUESTS, ALL_REQUESTS,                                   0xb0, 0x80),
    PMC(           UOPS_EXECUTED, THREAD,                                            0xb1, 0x01),
    PMC_CMASK_INV( UOPS_EXECUTED, STALL_CYCLES,                                      0xb1, 0x01, 1),
    PMC_CMASK(     UOPS_EXECUTED, CYCLES_GE_1_UOP_EXEC,                              0xb1, 0x01, 1),
    PMC_CMASK(     UOPS_EXECUTED, CYCLES_GE_2_UOP_EXEC,                              0xb1, 0x01, 2),
    PMC_CMASK(     UOPS_EXECUTED, CYCLES_GE_3_UOP_EXEC,                              0xb1, 0x01, 3),
    PMC_CMASK(     UOPS_EXECUTED, CYCLES_GE_4_UOP_EXEC,                              0xb1, 0x01, 4),
    PMC(           UOPS_EXECUTED, CORE,                                              0xb1, 0x02),
    PMC_CMASK(     UOPS_EXECUTED, CORE_CYCLES_GE_1,                                  0xb1, 0x02, 1),
    PMC_CMASK(     UOPS_EXECUTED, CORE_CYCLES_GE_2,                                  0xb1, 0x02, 2),
    PMC_CMASK(     UOPS_EXECUTED, CORE_CYCLES_GE_3,                                  0xb1, 0x02, 3),
    PMC_CMASK(     UOPS_EXECUTED, CORE_CYCLES_GE_4,                                  0xb1, 0x02, 4),
    PMC_CMASK_INV( UOPS_EXECUTED, CORE_CYCLES_NONE,                                  0xb1, 0x02, 1),
    PMC(           UOPS_EXECUTED, X87,                                               0xb1, 0x10),
    PMC(           OFF_CORE_REQUEST_BUFFER, SQ_FULL,                                 0xb2, 0x01),
    PMC(           TLB_FLUSH, DTLB_THREAD,                                           0xbd, 0x01),
    PMC(           TLB_FLUSH, STLB_ANY,                                              0xbd, 0x20),
    PMC(           INST_RETIRED, ANY,                                                0xc0, 0x00),
    PMC(           OTHER_ASSISTS, ANY,                                               0xc1, 0x3f),
    PMC_CMASK_INV( UOPS_RETIRED, STALL_CYCLES,                                       0xc2, 0x01, 1),
    PMC_CMASK_INV( UOPS_RETIRED, TOTAL_CYCLES,                                       0xc2, 0x01, 10),
    PMC(           UOPS_RETIRED, RETIRE_SLOTS,                                       0xc2, 0x02),
    PMC(           MACHINE_CLEARS, COUNT,                                            0xc3, 0x01),
    PMC(           MACHINE_CLEARS, MEMORY_ORDERING,                                  0xc3, 0x02),
    PMC(           MACHINE_CLEARS, SMC,                                              0xc3, 0x04),
    PMC(           BR_INST_RETIRED, ALL_BRANCHES,                                    0xc4, 0x00),
    PMC(           BR_INST_RETIRED, CONDITIONAL,                                     0xc4, 0x01),
    PMC(           BR_INST_RETIRED, NEAR_CALL,                                       0xc4, 0x02),
    PMC(           BR_INST_RETIRED, NEAR_RETURN,                                     0xc4, 0x08),
    PMC(           BR_INST_RETIRED, NOT_TAKEN,                                       0xc4, 0x10),
    PMC(           BR_INST_RETIRED, NEAR_TAKEN,                                      0xc4, 0x20),
    PMC(           BR_INST_RETIRED, FAR_BRANCH,                                      0xc4, 0x40),
    PMC(           BR_MISP_RETIRED, ALL_BRANCHES,                                    0xc5, 0x00),
    PMC(           BR_MISP_RETIRED, CONDITIONAL,                                     0xc5, 0x01),
    PMC(           BR_MISP_RETIRED, NEAR_TAKEN,                                      0xc5, 0x20),
    PMC(           FP_ARITH_INST_RETIRED, SCALAR_DOUBLE,                             0xc7, 0x01),
    PMC(           FP_ARITH_INST_RETIRED, SCALAR_SINGLE,                             0xc7, 0x02),
    PMC(           FP_ARITH_INST_RETIRED, 128B_PACKED_DOUBLE,                        0xc7, 0x04),
    PMC(           FP_ARITH_INST_RETIRED, 128B_PACKED_SINGLE,                        0xc7, 0x08),
    PMC(           FP_ARITH_INST_RETIRED, 256B_PACKED_DOUBLE,                        0xc7, 0x10),
    PMC(           FP_ARITH_INST_RETIRED, 256B_PACKED_SINGLE,                        0xc7, 0x20),
    PMC_CMASK(     FP_ASSIST, ANY,                                                   0xca, 0x1e, 1),
    PMC(           HW_INTERRUPTS, RECEIVED,                                          0xcb, 0x01),
    PMC(           MEM_INST_RETIRED, STLB_MISS_LOADS,                                0xd0, 0x11),
    PMC(           MEM_INST_RETIRED, STLB_MISS_STORES,                               0xd0, 0x12),
    PMC(           MEM_INST_RETIRED, LOCK_LOADS,                                     0xd0, 0x21),
    PMC(           MEM_INST_RETIRED, SPLIT_LOADS,                                    0xd0, 0x41),
    PMC(           MEM_INST_RETIRED, SPLIT_STORES,                                   0xd0, 0x42),
    PMC(           MEM_INST_RETIRED, ALL_LOADS,                                      0xd0, 0x81),
    PMC(           MEM_INST_RETIRED, ALL_STORES,                                     0xd0, 0x82),
    PMC(           MEM_LOAD_RETIRED, L1_HIT,                                         0xd1, 0x01),
    PMC(           MEM_LOAD_RETIRED, L2_HIT,                                         0xd1, 0x02),
    PMC(           MEM_LOAD_RETIRED, L3_HIT,                                         0xd1, 0x04),
    PMC(           MEM_LOAD_RETIRED, L1_MISS,                                        0xd1, 0x08),
    PMC(           MEM_LOAD_RETIRED, L2_MISS,                                        0xd1, 0x10),
    PMC(           MEM_LOAD_RETIRED, L3_MISS,                                        0xd1, 0x20),
    PMC(           MEM_LOAD_RETIRED, FB_HIT,                                         0xd1, 0x40),
    PMC(           MEM_LOAD_L3_HIT_RETIRED, X_SNP_MISS,                              0xd2, 0x01),
    PMC(           MEM_LOAD_L3_HIT_RETIRED, X_SNP_HIT,                               0xd2, 0x02),
    PMC(           MEM_LOAD_L3_HIT_RETIRED, X_SNP_HITM,                              0xd2, 0x04),
    PMC(           MEM_LOAD_L3_HIT_RETIRED, X_SNP_NONE,                              0xd2, 0x08),
    PMC(           BACLEARS, ANY,                                                    0xe6, 0x01),
    PMC(           L2_TRANS, L2_WB,                                                  0xf0, 0x40),
    PMC(           L2_LINES, IN_ALL,                                                 0xf1, 0x07),
    { 0 }
};

/**
 * @brief A tuple for arch-specific events
 */
struct bperf_arch_events {
    uint8_t                  family;  /* DisplayFamily */
    uint8_t                  model;   /* DisplayModel */
    struct bperf_event_tuple *events; /* List of events, terminated by event_id = 0 */
};

/**
 * @brief Static knowledgebase of architecture-specific event numbers and umasks
 */
static struct bperf_arch_events EVENTS[] = {
    { 0x06, 0x3f, EVENTS_XEON_E5_V3 },
    { 0x06, 0x55, EVENTS_06_55 },
    { 0x06, 0x4e, EVENTS_6TH_7TH_8TH_GEN_INTEL_CORE },
    { 0x06, 0x5e, EVENTS_6TH_7TH_8TH_GEN_INTEL_CORE },
    { 0x06, 0x8e, EVENTS_6TH_7TH_8TH_GEN_INTEL_CORE },
    { 0x06, 0x9e, EVENTS_6TH_7TH_8TH_GEN_INTEL_CORE },
};
